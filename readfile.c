#include<stdio.h>
#include<fcntl.h>
#include<sys/stat.h>
#include<unistd.h>
#include<stdlib.h>

void dump(char *d,int l){
int f=0,x,i=0;
char *tem=d;
while(i<l){
unsigned char a=*tem;
printf("%02x " ,a);
i++;
tem++;
while(i%16!=0){
if(i<l){
a=*tem;
printf("%02x " ,a);
tem++;
}
else{printf("   ");}
i++;
}
printf("| ");
while(d!=tem){
if(*d>31 && *d<127)
printf("%c" ,*d);
else printf(".");
d++;}
printf("\n");
}}




int filesize(int fd){				//get the file size from the file descriptor
struct stat Stat;
if((fstat(fd,&Stat))==-1){
printf("can't get file size");
return 0;}
return (int)Stat.st_size;
}

void main(){

int fd,siz;
char *x;

if((fd=open("CLASS XII HUMANITIES.docx",O_RDONLY,0))==-1)
printf("cant open!");
siz=filesize(fd);
printf("size-->%d\n" ,siz);
x=(char *)malloc(siz);
read(fd,x,siz);

dump(x,siz);

close(fd);

}

